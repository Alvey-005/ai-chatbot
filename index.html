<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Responsive Personal Portfolio</title>

    <link rel="stylesheet" href="style-organized.css" />

    <!-- box icons -->
    <link
      href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css"
      rel="stylesheet"
    />
    <!-- <link href= "/static/dist/output.css" rel="stylesheet"> -->

    <style>
      /* Modal Styles */
      .modal {
        display: none;
        position: fixed;
        z-index: 1;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.4);
        overflow: auto;
        transition: opacity 0.3s ease;
      }

      .modal-content {
        background-color: white;
        margin: 15% auto;
        padding: 20px;
        border: 1px solid #888;
        width: 80%;
        max-width: 500px;
        border-radius: 8px;
        animation: fadeIn 0.4s ease-in-out;
      }

      /* Modal Fade In Animation */
      @keyframes fadeIn {
        0% {
          opacity: 0;
        }

        100% {
          opacity: 1;
        }
      }

      .modal button {
        background-color: #4caf50;
        color: white;
        border: none;
        padding: 10px 20px;
        cursor: pointer;
        border-radius: 4px;
      }

      .modal button:hover {
        background-color: #45a049;
      }

      /* Chat Modal Styles */
      .chat-modal {
        display: none;
        position: fixed;
        bottom: 20px;
        right: 20px;
        z-index: 10;
        background-color: #fff;
        width: 300px;
        height: 400px;
        border-radius: 8px;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        padding: 20px;
      }

      .chat-modal-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
      }

      .chat-modal-header h3 {
        margin: 0;
      }

      .chat-modal .messages {
        max-height: 300px;
        overflow-y: auto;
        margin-top: 10px;
        margin-bottom: 10px;
      }

      .chat-modal .message {
        padding: 8px;
        background-color: #f1f1f1;
        margin-bottom: 10px;
        border-radius: 4px;
      }

      .chat-modal input[type="text"] {
        width: 100%;
        padding: 10px;
        margin-top: 10px;
        border: 1px solid #ccc;
        border-radius: 4px;
      }
    </style>
  </head>

  <body>
    <!-- header design -->
    <header class="header">
      <a href="#" class="logo">
        <img src="/images/logo.svg" alt="RoboDot Logo" />
        <span class="animate" style="--i: 1"></span
      ></a>

      <div class="bx bx-menu" id="menu-icon">
        <span class="animate" style="--i: 2"></span>
      </div>

      <nav class="navbar" id="navbar">
        <a href="#home" class="active" onclick="setActiveNav(this)">Home</a>
        <a href="#technology" onclick="setActiveNav(this)">Technology</a>
        <a href="#contact" onclick="setActiveNav(this)">Contact</a>

        <span class="active-nav"></span>
        <span class="animate" style="--i: 2"></span>
      </nav>
    </header>

    <!-- home section design -->
    <section class="home show-animate" id="home">
      <div>
        <div class="home-content">
          <h1 class="text-primary">
            RoboDot<span></span><span class="animate" style="--i: 2"></span>
          </h1>
          <div class="text-animate">
            <h3>Full Flatch LLM Bot</h3>
            <span class="animate" style="--i: 3"></span>
          </div>
          <p>
            RoboBot is an advanced AI-powered chatbot that leverages a
            state-of-the-art LLM model and Chroma with NLP. It ensures accurate,
            context-aware interactions, offering seamless customer support,
            intelligent query handling, and personalized responses for
            businesses..
            <span class="animate" style="--i: 4"></span>
          </p>

          <div class="btn-box">
            <a href="#" class="btn">Let's Talk</a>
            <span class="animate" style="--i: 5"></span>
          </div>
        </div>

        <div class="home-sci">
          <a href="#"><i class="bx bxl-facebook"></i></a>
          <a href="#"><i class="bx bxl-twitter"></i></a>
          <a href="#"><i class="bx bxl-linkedin"></i></a>
          <span class="animate" style="--i: 6"></span>
        </div>
      </div>
      <div>
        <img src="/images/hero.svg" alt="RoboDot Home Image" class="home-img" />
      </div>
      <!-- <div class="home-imgHover">
        <span class="animate" style="--i: 7"></span>
      </div> -->
      <!-- <span class="animate home-img" style="--i: 7"></span> -->
    </section>

    <!-- Technology section design -->
    <section class="technology" id="technology">
      <h2 class="tech-heading">Technology Stack</h2>
      <div class="tech-grid">
        <div class="tech-card">ADK</div>
        <div class="tech-card">RASA</div>
        <div class="tech-card">Chainit</div>
        <div class="tech-card">Langchain</div>
        <div class="tech-card">LLM</div>
        <div class="tech-card">GPT</div>
        <div class="tech-card">MCP</div>
        <div class="tech-card">Vector DB</div>
        <div class="tech-card">Chroma</div>
        <div class="tech-card">Dialogflow</div>
        <div class="tech-card">Ollma</div>
      </div>
    </section>

    <!-- contact section design -->
    <section class="contact" id="contact">
      <h2 class="contact-heading">
        Contact US
        <!-- <span class="animate scroll" style="--i: 2"></span> -->
      </h2>

      <form action="#">
        <div class="input-box">
          <div class="input-field">
            <input type="text" placeholder="Full Name" required />
            <span class="focus"></span>
          </div>
          <div class="input-field">
            <input type="text" placeholder="Email" required />
            <span class="focus"></span>
          </div>
        </div>

        <div class="input-box">
          <div class="input-field">
            <input type="number" placeholder="Mobile Number" required />
            <span class="focus"></span>
          </div>
          <div class="input-field">
            <input type="text" placeholder="Email Subject" required />
            <span class="focus"></span>
          </div>
        </div>

        <div class="textarea-field">
          <textarea
            name=""
            id=""
            cols="30"
            rows="10"
            placeholder="Your Message"
            required
          ></textarea>
          <span class="focus"></span>
        </div>

        <div class="btn-box btns">
          <button type="submit" class="btn">Submit</button>
        </div>
      </form>
    </section>

    <!-- footer design -->
    <footer class="footer">
      <div class="footer-iconTop" style="flex: 1;">
        <a href="#"><i class="bx bx-up-arrow-alt"></i></a>
      </div>
      <div class="footer-text" style="flex: 2; text-align: center;">
        <p>Copyright &copy; 2025 @RoboDot</p>
      </div>
      <div style="flex: 1;"></div>
    </footer>

    <!-- Chat Icon -->
    <div class="chat-icon bg-primary" onclick="toggleChatModal()">
      <i class="bx bxs-chat"></i>
    </div>

    <!-- Chat Modal -->
    <div class="chat-container" id="chat-container">
      <div class="chat-header">
        RoboDot <button class="close-btn" onclick="toggleChatModal()">×</button>
      </div>

      <div class="chat-body">
        <div class="messages" id="message-container"></div>
      </div>

      <div class="input-container">
        <input
          type="text"
          id="user-input"
          placeholder="Ask me anything..."
          autocomplete="off"
          onkeypress="if(event.key === 'Enter') sendMessage()"
        />
        <button onclick="sendMessage()">Send</button>
        <button style="background-color: white;"><img src="/images/support_1.png" alt="Support" /></button>
      </div>
    </div>

    <script>
      function setActiveNav(element) {
        const links = document.querySelectorAll("#navbar a");
        links.forEach((link) => link.classList.remove("active"));
        element.classList.add("active");
      }

      // Toggle Chat Modal
      function toggleChatModal() {
        const chatModal = document.getElementById("chat-container");
        // If display is not set, treat as "none"
        const currentDisplay = window.getComputedStyle(chatModal).display;
        const isHidden = currentDisplay === "none";
        chatModal.style.display = isHidden ? "flex" : "none";
      }
      const inputField = document.getElementById("user-input");
      const chatWindow = document.getElementById("message-container");

      window.onload = function () {
        const welcomeMessage = document.createElement("div");
        welcomeMessage.className = "message bot";
        welcomeMessage.textContent =
          "Hello! I'm RoboDot, your assistant. How can I help you today?";
        chatWindow.appendChild(welcomeMessage);
        chatWindow.scrollTop = chatWindow.scrollHeight;
      };

      async function sendMessage() {
        const message = inputField.value.trim();
        if (!message) return;

        const userMsg = document.createElement("div");
        userMsg.className = "message user";
        userMsg.textContent = message;
        chatWindow.appendChild(userMsg);
        chatWindow.scrollTop = chatWindow.scrollHeight;
        inputField.value = "";

        try {
          const response = await fetch(
            "https://ample-squirrel-smashing.ngrok-free.app/webhooks/rest/webhook/",
            {
              method: "POST",
              headers: { "Content-Type": "application/json" },
              body: JSON.stringify({ sender: "user", message }),
            }
          );

          const botMessages = await response.json();
          botMessages.forEach((msg) => {
            const botMsg = document.createElement("div");
            botMsg.className = "message bot";
            botMsg.textContent = msg.text;
            chatWindow.appendChild(botMsg);
            chatWindow.scrollTop = chatWindow.scrollHeight;
          });
        } catch {
          const errorMsg = document.createElement("div");
          errorMsg.className = "message bot";
          errorMsg.textContent = "⚠️ ERROR: Unable to connect to the server.";
          chatWindow.appendChild(errorMsg);
          chatWindow.scrollTop = chatWindow.scrollHeight;
        }
      }

      inputField.addEventListener("keydown", function (event) {
        if (event.key === "Enter") {
          event.preventDefault();
          sendMessage();
        }
      });
    </script>
  </body>
</html>
